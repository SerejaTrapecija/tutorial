{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/sergeyleontiev/Desktop/SENLA/iteration/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import classes from\"./ElevenIterationClass.module.css\";function setDefaultTimer(){var localTimer=localStorage.getItem('timer');return localTimer?+localTimer:0;}export default(function(){var _useState=useState(setDefaultTimer()),_useState2=_slicedToArray(_useState,2),timer=_useState2[0],setTimer=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),countTimer=_useState4[0],setCountTimer=_useState4[1];var timerIdRef=useRef(null);var startTimer=function startTimer(){setCountTimer(false);};var stopTimer=function stopTimer(){setCountTimer(true);};var resetTimer=function resetTimer(){setTimer(0);setCountTimer(true);};useEffect(function(){localStorage.setItem('timer',timer);},[timer]);useEffect(function(){if(!countTimer)timerIdRef.current=setInterval(function(){setTimer(function(prevTimer){return prevTimer+1;});},100);return function(){clearInterval(timerIdRef.current);};},[countTimer]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:classes.ElevenIteration,children:/*#__PURE__*/_jsx(\"p\",{children:timer})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.Buttons,children:[countTimer?/*#__PURE__*/_jsx(\"button\",{onClick:startTimer,children:\"Start\"}):/*#__PURE__*/_jsx(\"button\",{onClick:stopTimer,children:\"Stop\"}),/*#__PURE__*/_jsx(\"button\",{onClick:resetTimer,children:\"Reset\"})]})]});});","map":{"version":3,"sources":["/Users/sergeyleontiev/Desktop/SENLA/iteration/src/Components/ElevenIteration/ElevenIterationFunc.js"],"names":["React","useState","useEffect","useRef","classes","setDefaultTimer","localTimer","localStorage","getItem","timer","setTimer","countTimer","setCountTimer","timerIdRef","startTimer","stopTimer","resetTimer","setItem","current","setInterval","prevTimer","clearInterval","ElevenIteration","Buttons"],"mappings":"4PAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,MAArC,KAAmD,OAAnD,CACA,MAAOC,CAAAA,OAAP,KAAoB,mCAApB,CAEA,QAASC,CAAAA,eAAT,EAA4B,CACxB,GAAMC,CAAAA,UAAU,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAnB,CACA,MAAOF,CAAAA,UAAU,CAAG,CAACA,UAAJ,CAAiB,CAAlC,CACH,CAED,eAAe,UAAM,eACSL,QAAQ,CAACI,eAAe,EAAhB,CADjB,wCACVI,KADU,eACHC,QADG,8BAEmBT,QAAQ,CAAC,IAAD,CAF3B,yCAEVU,UAFU,eAEEC,aAFF,eAGjB,GAAMC,CAAAA,UAAU,CAAGV,MAAM,CAAC,IAAD,CAAzB,CAEA,GAAMW,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrBF,aAAa,CAAC,KAAD,CAAb,CACH,CAFD,CAIA,GAAMG,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpBH,aAAa,CAAC,IAAD,CAAb,CACH,CAFD,CAIA,GAAMI,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrBN,QAAQ,CAAC,CAAD,CAAR,CACAE,aAAa,CAAC,IAAD,CAAb,CACH,CAHD,CAKAV,SAAS,CAAC,UAAM,CACZK,YAAY,CAACU,OAAb,CAAqB,OAArB,CAA8BR,KAA9B,EACH,CAFQ,CAEN,CAACA,KAAD,CAFM,CAAT,CAIAP,SAAS,CAAC,UAAM,CACZ,GAAG,CAACS,UAAJ,CAAgBE,UAAU,CAACK,OAAX,CAAqBC,WAAW,CAAC,UAAM,CACnDT,QAAQ,CAAC,SAAAU,SAAS,QAAIA,CAAAA,SAAS,CAAG,CAAhB,EAAV,CAAR,CACH,CAF+C,CAE7C,GAF6C,CAAhC,CAGhB,MAAO,WAAM,CACTC,aAAa,CAACR,UAAU,CAACK,OAAZ,CAAb,CACH,CAFD,CAGH,CAPQ,CAON,CAACP,UAAD,CAPM,CAAT,CASA,mBACI,oCACI,YAAK,SAAS,CAAEP,OAAO,CAACkB,eAAxB,uBACI,mBAAKb,KAAL,EADJ,EADJ,cAII,aAAK,SAAS,CAAEL,OAAO,CAACmB,OAAxB,WACMZ,UAAU,cAAI,eAAQ,OAAO,CAAEG,UAAjB,mBAAJ,cAAkD,eAAQ,OAAO,CAAEC,SAAjB,kBADlE,cAEI,eAAQ,OAAO,CAAEC,UAAjB,mBAFJ,GAJJ,GADJ,CAWH,CA1CD","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport classes from \"./ElevenIterationClass.module.css\";\n\nfunction setDefaultTimer () {\n    const localTimer = localStorage.getItem('timer');\n    return localTimer ? +localTimer : 0;\n}\n\nexport default () => {\n    const [timer, setTimer] = useState(setDefaultTimer());\n    const [countTimer, setCountTimer] = useState(true);\n    const timerIdRef = useRef(null);\n\n    const startTimer = () => {\n        setCountTimer(false)\n    }\n\n    const stopTimer = () => {\n        setCountTimer(true);\n    }\n\n    const resetTimer = () => {\n        setTimer(0)\n        setCountTimer(true);\n    }\n\n    useEffect(() => {\n        localStorage.setItem('timer', timer)\n    }, [timer])\n\n    useEffect(() => {\n        if(!countTimer) timerIdRef.current = setInterval(() => {\n            setTimer(prevTimer => prevTimer + 1)\n        }, 100)\n        return () => {\n            clearInterval(timerIdRef.current);\n        }\n    }, [countTimer])\n\n    return (\n        <div>\n            <div className={classes.ElevenIteration}>\n                <p>{ timer }</p>\n            </div>\n            <div className={classes.Buttons}>\n                { countTimer ?  <button onClick={startTimer}>Start</button> : <button onClick={stopTimer}>Stop</button>}\n                <button onClick={resetTimer}>Reset</button>\n            </div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}