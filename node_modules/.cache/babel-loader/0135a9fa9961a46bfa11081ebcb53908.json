{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import _objectSpread from\"/Users/sergeyleontiev/Desktop/SENLA/iteration/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/sergeyleontiev/Desktop/SENLA/iteration/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import classes from\"./TenIteration.module.css\";import Post from\"../Post/Post\";function useLogger(value){useEffect(function(){console.log(\"Changed: \".concat(value));},[value]);}function useInput(initialValue){var _useState=useState(initialValue),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var onChange=function onChange(e){return setValue(e.target.value);};var clear=function clear(){return setValue('');};return{bind:{value:value,onChange:onChange},value:value,clear:clear};}export default(function(){var _useState3=useState('todos'),_useState4=_slicedToArray(_useState3,2),type=_useState4[0],setType=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var input=useInput('');useLogger(input.value);useEffect(function(){fetch(\"https://jsonplaceholder.typicode.com/\".concat(type,\"/\")).then(function(response){return response.json();}).then(function(json){return setData(json);});},[type]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.TenIteration,children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\"},input.bind)),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return input.clear();},children:\"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"h1\",{children:input.value}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h1\",{children:type}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setType('todos');},children:\"Todo\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setType('posts');},children:\"Posts\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.TenIteration_wrap,children:data.map(function(post,index){return/*#__PURE__*/_jsx(Post,{post:post},index);})})]});});","map":{"version":3,"sources":["/Users/sergeyleontiev/Desktop/SENLA/iteration/src/Components/TenIteration/TenIteration.js"],"names":["React","useState","useEffect","classes","Post","useLogger","value","console","log","useInput","initialValue","setValue","onChange","e","target","clear","bind","type","setType","data","setData","input","fetch","then","response","json","TenIteration","TenIteration_wrap","map","post","index"],"mappings":"+ZAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,OAAP,KAAoB,2BAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CAEA,QAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAA0B,CACtBJ,SAAS,CAAC,UAAM,CACZK,OAAO,CAACC,GAAR,oBAAwBF,KAAxB,GACH,CAFQ,CAEN,CAACA,KAAD,CAFM,CAAT,CAGH,CAED,QAASG,CAAAA,QAAT,CAAkBC,YAAlB,CAAgC,eACFT,QAAQ,CAACS,YAAD,CADN,wCACrBJ,KADqB,eACdK,QADc,eAG5B,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,CAAC,QAAIF,CAAAA,QAAQ,CAACE,CAAC,CAACC,MAAF,CAASR,KAAV,CAAZ,EAAlB,CAEA,GAAMS,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,SAAMJ,CAAAA,QAAQ,CAAC,EAAD,CAAd,EAAd,CAEA,MAAO,CACHK,IAAI,CAAE,CACFV,KAAK,CAALA,KADE,CACKM,QAAQ,CAARA,QADL,CADH,CAIHN,KAAK,CAALA,KAJG,CAKHS,KAAK,CAALA,KALG,CAAP,CAOH,CAED,eAAe,UAAM,gBACOd,QAAQ,CAAC,OAAD,CADf,yCACVgB,IADU,eACJC,OADI,8BAEOjB,QAAQ,CAAC,EAAD,CAFf,yCAEVkB,IAFU,eAEJC,OAFI,eAIjB,GAAMC,CAAAA,KAAK,CAAGZ,QAAQ,CAAC,EAAD,CAAtB,CAEAJ,SAAS,CAACgB,KAAK,CAACf,KAAP,CAAT,CAEAJ,SAAS,CAAC,UAAM,CACZoB,KAAK,gDAAyCL,IAAzC,MAAL,CACKM,IADL,CACU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAE,IAAI,QAAIL,CAAAA,OAAO,CAACK,IAAD,CAAX,EAFd,EAGH,CAJQ,CAIN,CAACR,IAAD,CAJM,CAAT,CAMA,mBACI,aAAK,SAAS,CAAEd,OAAO,CAACuB,YAAxB,wBACI,4BAAO,IAAI,CAAC,MAAZ,EAAuBL,KAAK,CAACL,IAA7B,EADJ,cAEI,eAAQ,OAAO,CAAE,yBAAMK,CAAAA,KAAK,CAACN,KAAN,EAAN,EAAjB,8DAFJ,cAGI,oBAAKM,KAAK,CAACf,KAAX,EAHJ,cAII,aAJJ,cAKI,oBAAKW,IAAL,EALJ,cAMI,eAAQ,OAAO,CAAE,yBAAMC,CAAAA,OAAO,CAAC,OAAD,CAAb,EAAjB,kBANJ,cAOI,eAAQ,OAAO,CAAE,yBAAMA,CAAAA,OAAO,CAAC,OAAD,CAAb,EAAjB,mBAPJ,cAQQ,YAAK,SAAS,CAAEf,OAAO,CAACwB,iBAAxB,UACCR,IAAI,CAACS,GAAL,CAAS,SAACC,IAAD,CAAOC,KAAP,qBACF,KAAC,IAAD,EAEI,IAAI,CAAID,IAFZ,EACWC,KADX,CADE,EAAT,CADD,EARR,GADJ,CAoBH,CAlCD","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport classes from \"./TenIteration.module.css\";\nimport Post from \"../Post/Post\";\n\nfunction useLogger(value) {\n    useEffect(() => {\n        console.log(`Changed: ${value}`)\n    }, [value])\n}\n\nfunction useInput(initialValue) {\n    const [value, setValue] = useState(initialValue);\n\n    const onChange = e => setValue(e.target.value);\n\n    const clear = () => setValue('');\n\n    return {\n        bind: {\n            value, onChange,\n        },\n        value,\n        clear,\n    }\n}\n\nexport default () => {\n    const [type, setType] = useState('todos');\n    const [data, setData] = useState([]);\n\n    const input = useInput('');\n\n    useLogger(input.value);\n\n    useEffect(() => {\n        fetch(`https://jsonplaceholder.typicode.com/${type}/`)\n            .then(response => response.json())\n            .then(json => setData(json))\n    }, [type]);\n\n    return (\n        <div className={classes.TenIteration}>\n            <input type=\"text\" {...input.bind}/>\n            <button onClick={() => input.clear()}>Очистить</button>\n            <h1>{input.value}</h1>\n            <hr/>\n            <h1>{type}</h1>\n            <button onClick={() => setType('todos')}>Todo</button>\n            <button onClick={() => setType('posts')}>Posts</button>\n                <div className={classes.TenIteration_wrap}>\n                {data.map((post, index) => (\n                        <Post\n                            key = {index}\n                            post = {post}\n                        />\n                        )\n                )}\n                </div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}